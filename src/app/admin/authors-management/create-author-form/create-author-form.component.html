<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <h2 class="mat-title">Add new author</h2>
  <mat-form-field appearance="standard">
    <mat-label>Search in Goodreads</mat-label>
    <input
      type="search"
      matInput
      placeholder="Type author name and press the search button"
      [formControl]="searchInput"
      (keypress.enter)="searchAuthor()"
    />
    <span matSuffix>
      <button
        type="button"
        matSuffix
        mat-icon-button
        title="Search"
        (click)="searchAuthor()"
        [disabled]="!searchInput.value"
      >
        <mat-icon>search</mat-icon>
      </button>
    </span>
    <mat-error *ngIf="searchError">
      Author could not be found. Try a different keyword or enter the author
      information manually.
    </mat-error>
  </mat-form-field>
  <mat-form-field>
    <input type="text" matInput placeholder="Name" formControlName="name" />
    <mat-error *ngIf="form.controls['name'].errors?.required">
      The author name is required.
    </mat-error>
  </mat-form-field>
  <mat-form-field>
    <textarea
      type="text"
      matInput
      placeholder="Biography"
      formControlName="biography"
    ></textarea>
  </mat-form-field>
  <mat-form-field>
    <input
      type="url"
      matInput
      placeholder="Image URL"
      formControlName="imageUrl"
    />
  </mat-form-field>
  <mat-form-field>
    <input
      matInput
      placeholder="Date of Birth"
      formControlName="bornAt"
      [matDatepicker]="bornDatePicker"
    />
    <mat-datepicker-toggle
      matSuffix
      [for]="bornDatePicker"
    ></mat-datepicker-toggle>
    <mat-datepicker #bornDatePicker></mat-datepicker>
  </mat-form-field>
  <mat-form-field>
    <input
      matInput
      placeholder="Died At"
      formControlName="diedAt"
      [matDatepicker]="diedDatePicker"
    />
    <mat-datepicker-toggle
      matSuffix
      [for]="diedDatePicker"
    ></mat-datepicker-toggle>
    <mat-datepicker #diedDatePicker></mat-datepicker>
  </mat-form-field>
  <div class="actions">
    <button type="button" mat-button (click)="modalRef.close()">
      <span>Cancel</span>
    </button>
    <button type="submit" mat-raised-button color="primary">
      <span>Save</span>
    </button>
  </div>
</form>
